ghcup set ghc 8.8.4
[1m[92m[ Info  ][0m[0m GHC 8.8.4 successfully set as default version
cabal clean
cabal build -v
Project settings changed, reconfiguring...
creating /home/fakebox/code/ffi-repro/dist-newstyle
creating /home/fakebox/code/ffi-repro/dist-newstyle/cache
this build was affected by the following (project) config files:
Compiler settings changed, reconfiguring...
/home/fakebox/.ghcup/bin/ghc --numeric-version
looking for tool ghc-pkg near compiler in /home/fakebox/.ghcup/bin
found ghc-pkg in /home/fakebox/.ghcup/bin/ghc-pkg
/home/fakebox/.ghcup/bin/ghc-pkg --version
/home/fakebox/.ghcup/bin/ghc --supported-languages
/home/fakebox/.ghcup/bin/ghc --info
/home/fakebox/.ghcup/bin/ghc --print-global-package-db
Reading available packages of hackage.haskell.org...
Using most recent state specified from most recent cabal update
index-state(hackage.haskell.org) = 2020-09-14T01:37:27Z
/usr/bin/pkg-config --version
/usr/bin/pkg-config --variable pc_path pkg-config
/usr/bin/pkg-config --version
/usr/bin/pkg-config --list-all
/usr/bin/pkg-config --modversion vorbisfile tic ncurses vorbis ncursesw menu systemd samplerate 'ncurses++' vorbisenc bash-completion iso-codes sndfile 'ncurses++w' panelw jack tinfo libffi shared-mime-info panel opus udev ogg form zlib libsystemd uuid menuw xkeyboard-config alsa formw flac
Resolving dependencies...
Component graph for ffi-repro-0.1.0.0: component exe:ffi-repro
component ffi-repro-0.1.0.0-inplace-ffi-repro include base-4.13.0.0
unit ffi-repro-0.1.0.0-inplace-ffi-repro include base-4.13.0.0
Build profile: -w ghc-8.8.4 -O1
In order, the following will be built:
 - ffi-repro-0.1.0.0 (exe:ffi-repro) (first run)
creating /home/fakebox/code/ffi-repro/dist-newstyle/build
creating /home/fakebox/code/ffi-repro/dist-newstyle/tmp
creating /home/fakebox/.cabal/store/ghc-8.8.4
/home/fakebox/.ghcup/bin/ghc-pkg init /home/fakebox/.cabal/store/ghc-8.8.4/package.db
creating /home/fakebox/code/ffi-repro/dist-newstyle/packagedb
/home/fakebox/.ghcup/bin/ghc-pkg init /home/fakebox/code/ffi-repro/dist-newstyle/packagedb/ghc-8.8.4
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4
creating /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/cache
Using self-exec internal setup method with build-type Simple and args:
["act-as-setup","--build-type=Simple","--","configure","--verbose=2","--builddir=/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro","--ghc","--prefix=/home/fakebox/.cabal","--bindir=/home/fakebox/.cabal/bin","--libdir=/home/fakebox/.cabal/lib/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0-inplace-ffi-repro","--libsubdir=","--dynlibdir=/home/fakebox/.cabal/lib/x86_64-linux-ghc-8.8.4","--libexecdir=/home/fakebox/.cabal/libexec/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0","--libexecsubdir=","--datadir=/home/fakebox/.cabal/share/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0","--datasubdir=","--docdir=/home/fakebox/.cabal/share/doc/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0","--htmldir=/home/fakebox/.cabal/share/doc/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0/html","--haddockdir=/home/fakebox/.cabal/share/doc/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0/html","--sysconfdir=/home/fakebox/.cabal/etc","--enable-library-vanilla","--disable-library-profiling","--enable-shared","--disable-static","--disable-executable-dynamic","--disable-executable-static","--disable-profiling","--profiling-detail=default","--library-profiling-detail=default","--enable-optimization","--disable-debug-info","--disable-library-for-ghci","--disable-split-sections","--disable-split-objs","--disable-executable-stripping","--disable-library-stripping","--package-db=clear","--package-db=global","--package-db=/home/fakebox/.cabal/store/ghc-8.8.4/package.db","--package-db=/home/fakebox/code/ffi-repro/dist-newstyle/packagedb/ghc-8.8.4","--cid=ffi-repro-0.1.0.0-inplace-ffi-repro","--extra-prog-path=/home/fakebox/.cabal/bin","--dependency=base=base-4.13.0.0","--disable-coverage","--exact-configuration","--with-ghc=/home/fakebox/.ghcup/bin/ghc","--with-ghc-pkg=/home/fakebox/.ghcup/bin/ghc-pkg","--ghc-option=-hide-all-packages","exe:ffi-repro"]
/home/fakebox/.ghcup/bin/cabal-3.2.0.0 act-as-setup --build-type=Simple --
configure --verbose=2
--builddir=/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro
--ghc --prefix=/home/fakebox/.cabal --bindir=/home/fakebox/.cabal/bin
--libdir=/home/fakebox/.cabal/lib/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0-inplace-ffi-repro
--libsubdir= --dynlibdir=/home/fakebox/.cabal/lib/x86_64-linux-ghc-8.8.4
--libexecdir=/home/fakebox/.cabal/libexec/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0
--libexecsubdir=
--datadir=/home/fakebox/.cabal/share/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0
--datasubdir=
--docdir=/home/fakebox/.cabal/share/doc/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0
--htmldir=/home/fakebox/.cabal/share/doc/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0/html
--haddockdir=/home/fakebox/.cabal/share/doc/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0/html
--sysconfdir=/home/fakebox/.cabal/etc --enable-library-vanilla
--disable-library-profiling --enable-shared --disable-static
--disable-executable-dynamic --disable-executable-static --disable-profiling
--profiling-detail=default --library-profiling-detail=default
--enable-optimization --disable-debug-info --disable-library-for-ghci
--disable-split-sections --disable-split-objs --disable-executable-stripping
--disable-library-stripping --package-db=clear --package-db=global
--package-db=/home/fakebox/.cabal/store/ghc-8.8.4/package.db
--package-db=/home/fakebox/code/ffi-repro/dist-newstyle/packagedb/ghc-8.8.4
--cid=ffi-repro-0.1.0.0-inplace-ffi-repro
--extra-prog-path=/home/fakebox/.cabal/bin --dependency=base=base-4.13.0.0
--disable-coverage --exact-configuration
--with-ghc=/home/fakebox/.ghcup/bin/ghc
--with-ghc-pkg=/home/fakebox/.ghcup/bin/ghc-pkg
--ghc-option=-hide-all-packages exe:ffi-repro
Using Parsec parser
Configuring executable 'ffi-repro' for ffi-repro-0.1.0.0..
Dependency base ==4.13.0.0: using base-4.13.0.0
Source component graph: component exe:ffi-repro
Configured component graph:
    component ffi-repro-0.1.0.0-inplace-ffi-repro include base-4.13.0.0
Linked component graph:
    unit ffi-repro-0.1.0.0-inplace-ffi-repro include base-4.13.0.0
Ready component graph:
    definite ffi-repro-0.1.0.0-inplace-ffi-repro depends base-4.13.0.0
Using Cabal-3.2.0.0 compiled by ghc-8.4
Using compiler: ghc-8.8.4
Using install prefix: /home/fakebox/.cabal
Executables installed in: /home/fakebox/.cabal/bin
Libraries installed in:
/home/fakebox/.cabal/lib/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0-inplace-ffi-repro
Dynamic Libraries installed in:
/home/fakebox/.cabal/lib/x86_64-linux-ghc-8.8.4
Private executables installed in:
/home/fakebox/.cabal/libexec/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0
Data files installed in:
/home/fakebox/.cabal/share/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0
Documentation installed in:
/home/fakebox/.cabal/share/doc/x86_64-linux-ghc-8.8.4/ffi-repro-0.1.0.0
Configuration files installed in: /home/fakebox/.cabal/etc
No alex found
Using ar found on system at: /usr/bin/ar
No c2hs found
No cpphs found
No doctest found
Using gcc version 8 found on system at: /usr/bin/gcc
Using ghc version 8.8.4 given by user at: /home/fakebox/.ghcup/bin/ghc
Using ghc-pkg version 8.8.4 given by user at: /home/fakebox/.ghcup/bin/ghc-pkg
No ghcjs found
No ghcjs-pkg found
No greencard found
Using haddock version 2.23.0 found on system at:
/home/fakebox/.ghcup/bin/haddock
No happy found
Using haskell-suite found on system at: haskell-suite-dummy-location
Using haskell-suite-pkg found on system at: haskell-suite-pkg-dummy-location
No hmake found
Using hpc version 0.67 found on system at: /home/fakebox/.ghcup/bin/hpc
Using hsc2hs version 0.68.7 found on system at:
/home/fakebox/.ghcup/bin/hsc2hs
No hscolour found
No jhc found
Using ld found on system at: /usr/bin/ld.gold
Using pkg-config version 0.29 found on system at: /usr/bin/pkg-config
Using runghc version 8.8.4 found on system at: /home/fakebox/.ghcup/bin/runghc
Using strip version 2.31 found on system at: /usr/bin/strip
Using tar found on system at: /usr/bin/tar
No uhc found
Using self-exec internal setup method with build-type Simple and args:
["act-as-setup","--build-type=Simple","--","build","--verbose=2","--builddir=/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro"]
/home/fakebox/.ghcup/bin/cabal-3.2.0.0 act-as-setup --build-type=Simple --
build --verbose=2
--builddir=/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro
Component build order: executable 'ffi-repro'
/home/fakebox/.ghcup/bin/ghc-pkg init /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/package.conf.inplace
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen
Preprocessing executable 'ffi-repro' for ffi-repro-0.1.0.0..
Building executable 'ffi-repro' for ffi-repro-0.1.0.0..
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp
/home/fakebox/.ghcup/bin/ghc --make -no-link -fbuilding-cabal-package -O -static -outputdir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -odir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -hidir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -stubdir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -i -i/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -i. -i/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen -i/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/global-autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/global-autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -Ilife -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/life -optP-include -optP/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen/cabal_macros.h -hide-all-packages -Wmissing-home-modules -no-user-package-db -package-db /home/fakebox/.cabal/store/ghc-8.8.4/package.db -package-db /home/fakebox/code/ffi-repro/dist-newstyle/packagedb/ghc-8.8.4 -package-db /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/package.conf.inplace -package-id base-4.13.0.0 -XHaskell2010 ./Main.hs -hide-all-packages
[1 of 1] Compiling Main             ( Main.hs, /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp/Main.o )
Building C++ Sources...
creating
/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp
/home/fakebox/.ghcup/bin/ghc -c -fPIC -odir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/global-autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -Ilife -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/life -optc-O2 '-optc-D__LIFE_MEANING__=42' -hide-all-packages -no-user-package-db -package-db /home/fakebox/.cabal/store/ghc-8.8.4/package.db -package-db /home/fakebox/code/ffi-repro/dist-newstyle/packagedb/ghc-8.8.4 -package-db /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/package.conf.inplace -package-id base-4.13.0.0 life/life.cpp -hide-all-packages
Linking...
/home/fakebox/.ghcup/bin/ghc --make -fbuilding-cabal-package -O -static -outputdir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -odir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -hidir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -stubdir /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -i -i/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -i. -i/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen -i/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/global-autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/global-autogen -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp -Ilife -I/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/life -optP-include -optP/home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/autogen/cabal_macros.h '-lstdc++' -hide-all-packages -Wmissing-home-modules -no-user-package-db -package-db /home/fakebox/.cabal/store/ghc-8.8.4/package.db -package-db /home/fakebox/code/ffi-repro/dist-newstyle/packagedb/ghc-8.8.4 -package-db /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/package.conf.inplace -package-id base-4.13.0.0 -XHaskell2010 ./Main.hs /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro-tmp/life/life.o -o /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro -hide-all-packages
Linking /home/fakebox/code/ffi-repro/dist-newstyle/build/x86_64-linux/ghc-8.8.4/ffi-repro-0.1.0.0/x/ffi-repro/build/ffi-repro/ffi-repro ...
cabal exec ffi-repro
Wow, this is it: 42
